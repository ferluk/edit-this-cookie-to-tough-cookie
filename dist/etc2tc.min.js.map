{"version":3,"sources":["etc2tc.js"],"names":["createObj","obj","name","etc2tc","srcFile","dstFile","srcJson","JSON","parse","Fs","readFileSync","dstJson","_","each","c","domain","path","key","value","hostOnly","creation","Moment","lastAccessed","expirationDate","parseInt","writeFileSync","stringify","require","module","exports"],"mappings":"AAAA,YAMA,SAASA,WAAUC,EAAKC,GAIpB,MAHKD,GAAIC,KACLD,EAAIC,OAEDD,EAAIC,GAGf,QAASC,QAAOC,EAASC,GACrB,IAAKD,IAAYC,EACb,MAAO,KAGX,IAAIC,GAAUC,KAAKC,MAAMC,GAAGC,aAAaN,EAAS,SAC9CO,IAqBJ,OAnBAC,GAAEC,KAAKP,EAAS,SAASQ,GACrBd,UAAUA,UAAUA,UAAUW,EAASG,EAAEC,QAASD,EAAEE,MAAOF,EAAEZ,MAE7DS,EAAQG,EAAEC,QAAQD,EAAEE,MAAMF,EAAEZ,OACxBe,IAAOH,EAAEZ,KACTgB,MAASJ,EAAEI,MACXH,OAAUD,EAAEC,OACZC,KAAQF,EAAEE,KACVG,SAAYL,EAAEK,SACdC,SAAYC,SACZC,aAAgBD,UAGhBP,EAAES,iBACFZ,EAAQG,EAAEC,QAAQD,EAAEE,MAAMF,EAAEZ,MAAe,QAAImB,OAAOG,SAA4B,IAAnBV,EAAES,oBAIzEd,GAAGgB,cAAcpB,EAASE,KAAKmB,UAAUf,GAAU,QAC5CN,EAtCX,KAAMI,IAAKkB,QAAQ,MACbf,EAAIe,QAAQ,UACZN,OAASM,QAAQ,SAuCvBC,QAAOC,QAAU1B","file":"etc2tc.min.js","sourcesContent":["'use strict';\n\nconst Fs = require('fs');\nconst _ = require('lodash');\nconst Moment = require('moment');\n\nfunction createObj(obj, name) {\n    if (!obj[name]) {\n        obj[name] = {};\n    }\n    return obj[name];\n}\n\nfunction etc2tc(srcFile, dstFile) {\n    if (!srcFile || !dstFile) {\n        return null;\n    }\n\n    var srcJson = JSON.parse(Fs.readFileSync(srcFile, 'utf8'));\n    var dstJson = {};\n\n    _.each(srcJson, function(c) {\n        createObj(createObj(createObj(dstJson, c.domain), c.path), c.name);\n\n        dstJson[c.domain][c.path][c.name] = {\n            'key': c.name,\n            'value': c.value,\n            'domain': c.domain,\n            'path': c.path,\n            'hostOnly': c.hostOnly,\n            'creation': Moment(),\n            'lastAccessed': Moment()\n        };\n\n        if (c.expirationDate) {\n            dstJson[c.domain][c.path][c.name]['expires'] = Moment(parseInt(c.expirationDate * 1000));\n        }\n    });\n\n    Fs.writeFileSync(dstFile, JSON.stringify(dstJson), 'utf8');\n    return dstFile;\n}\n\nmodule.exports = etc2tc;\n"]}