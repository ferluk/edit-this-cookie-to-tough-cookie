"use strict";function createObj(e,t){return void 0===e[t]&&(e[t]={}),e[t]}function pushValue(e,t,a){void 0!==e[t]&&(a[t]=e[t])}function etc2tc(e,t){if(!e||!t)return null;var a=JSON.parse(Fs.readFileSync(e,"utf8")),n={};return _.each(a,function(e){var t={domain:e.domain,path:e.path,key:e.name,creation:Moment(),lastAccessed:Moment()};pushValue(e,"value",t),pushValue(e,"maxAge",t),pushValue(e,"secure",t),pushValue(e,"httpOnly",t),pushValue(e,"extensions",t),pushValue(e,"creationIndex",t),pushValue(e,"hostOnly",t),pushValue(e,"pathIsDefault",t),void 0!==e.expirationDate&&(t.expires=Moment(parseInt(1e3*e.expirationDate))),createObj(createObj(createObj(n,e.domain),e.path),e.name),n[e.domain][e.path][e.name]=t}),Fs.writeFileSync(t,JSON.stringify(n),"utf8"),t}const Fs=require("fs"),_=require("lodash"),Moment=require("moment");module.exports=etc2tc;