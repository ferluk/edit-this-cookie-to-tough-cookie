"use strict";function createObj(e,a){return void 0===e[a]&&(e[a]={}),e[a]}function pushValue(e,a,t){void 0!==e[a]&&(t[a]=e[a])}function etc2tc(e,a){if(!e||!a)return null;var t=JSON.parse(Fs.readFileSync(e,"utf8")),n={};return _.each(t,function(e){"."===e.domain.charAt(0)&&(e.domain=e.domain.slice(1));var a={domain:e.domain,path:e.path,key:e.name,creation:Moment(),lastAccessed:Moment()};pushValue(e,"value",a),pushValue(e,"maxAge",a),pushValue(e,"secure",a),pushValue(e,"httpOnly",a),pushValue(e,"extensions",a),pushValue(e,"creationIndex",a),pushValue(e,"hostOnly",a),pushValue(e,"pathIsDefault",a),void 0!==e.expirationDate&&(a.expires=Moment(parseInt(1e3*e.expirationDate))),createObj(createObj(createObj(n,e.domain),e.path),e.name),n[e.domain][e.path][e.name]=a}),Fs.writeFileSync(a,JSON.stringify(n),"utf8"),a}var Fs=require("fs"),_=require("lodash"),Moment=require("moment");module.exports=etc2tc;